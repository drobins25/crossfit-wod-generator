:root{
  --bg: #f8f9fb;
  --bg-rgb: 248, 249, 251;
  --text: #0f172a;
  --muted: #64748b;
  --panel: #ffffff;
  --panel-2: #f2f4f7;
  --border: #e5e7eb;
  --blue:#1565C0; --blue-soft:#5BA3F5; --red:#D32F2F; --green:#0D9E6D;
  --shadow: 0 10px 30px rgba(0,0,0,.08);
}

.dark{
  --bg: #0d0f14;
  --bg-rgb: 13, 15, 20;
  --text: #e6e8ee;
  --muted: #9aa4b2;
  --panel: #081017;
  --panel-2: #171a21;
  --border: #232735;
  --shadow: 0 10px 30px rgba(0,0,0,.45);
}

*{box-sizing:border-box}
html,body,#root{height:100%}
body{
  margin:0;
  background: var(--bg);
  background-attachment: fixed;
  color:var(--text);
  font-family:Inter,ui-sans-serif,system-ui;
  line-height:1.45;
}

.container{max-width:1100px;margin:0 auto;padding:20px}
.container.wizard-mode{padding:0}
.topbar{display:flex;align-items:center;justify-content:space-between;margin-bottom:16px}
.brand{display:flex;align-items:center;gap:10px}
.brand h1{margin:0;font-size:20px;font-weight:800;letter-spacing:.2px}
.switch{display:flex;align-items:center;gap:8px;font-size:12px;color:var(--muted)}

.grid{display:grid;grid-template-columns:360px 1fr;gap:16px}
@media (max-width:1024px){ .grid{grid-template-columns:1fr} }

.panel{background:var(--panel);border:1px solid var(--border);border-radius:16px;box-shadow:var(--shadow)}
.section{
  padding:16px;
  /*border-bottom:1px solid var(--border)*/
  background: radial-gradient(120% 140% at 0% 0%, rgba(31, 111, 235, .12), transparent 60%), radial-gradient(120% 140% at 100% 0%, rgb(21 118 46 / 10%), transparent 60%), var(--panel);
  /*background: radial-gradient(120% 140% at 0% 0%, rgba(31, 111, 235, .12), transparent 60%), radial-gradient(120% 140% at 100% 0%, rgba(225, 29, 72, .10), transparent 60%), var(--panel);*/
  border: 1px solid var(--border);
  /*background: var(--panel);*/
  /*border: 1px solid var(--border);*/
  border-radius: 16px;
  box-shadow: var(--shadow);
}
.section:last-child{border-bottom:none}
.section h3{margin:0 0 10px 0;font-size:12px;color:var(--muted);text-transform:uppercase;letter-spacing:.1em}

.row{display:flex;flex-wrap:wrap;gap:10px;align-items:center}
label{font-size:12px;color:var(--muted)}
.input, select{padding:8px 10px;border:1px solid var(--border);border-radius:10px;background:var(--panel-2);color:var(--text)}
.btn{border:none;background:var(--blue);color:#fff;border-radius:10px;font-weight:700;cursor:pointer}
.btn.ghost{background:transparent;color:var(--text);border:1px solid var(--border)}
.small{font-size:12px;color:var(--muted)}
.medium{font-size:16px;color:var(--muted)}

/* removed duplicate early .grid-check rule; unified down below */

/* 1) Make all form controls inherit the site font/colors */
input, select, button, textarea {
  font: inherit;
  color: inherit;
}

/* 2) Your app's input style already—ensure the date uses it too */
.input { font: inherit; line-height: 1.2; }

/* 3) Chrome/Safari date parts: force consistent font sizing */
input[type="date"]::-webkit-datetime-edit-text,
input[type="date"]::-webkit-datetime-edit-month-field,
input[type="date"]::-webkit-datetime-edit-day-field,
input[type="date"]::-webkit-datetime-edit-year-field {
  font: inherit;
  color: inherit;
}

/* Optional: style the calendar icon to match theme */
input[type="date"]::-webkit-calendar-picker-indicator {
  opacity: 0.75;
  cursor: pointer;
  filter: invert(1);
}

/* Firefox tweaks */
@supports (-moz-appearance: none) {
  input[type="date"] {
    -moz-appearance: textfield;
    font: inherit;
    color: inherit;
  }
}

.board{
  /*background: radial-gradient(120% 140% at 0% 0%, rgba(31, 111, 235, .12), transparent 60%), radial-gradient(120% 140% at 100% 0%, rgba(225, 29, 72, .10), transparent 60%), var(--panel);*/
  padding-bottom:10px;
}
/* Marker font ONLY for headers and quotes */
.board .title, .board .quote, .marker.head{font-family:'Permanent Marker',cursive}
.board .title{font-size:34px}

/* Professional font for all content */
.marker.line, .marker.line.list {
  font-family: Inter, ui-sans-serif, system-ui;
  font-weight: 500;
  font-size: 17px;
  line-height: 1.6;
}

/* Movement names stand out with semi-bold */
.marker.line.list {
  font-weight: 600;
  font-size: 16px;
}

.columns{display:grid;grid-template-columns:1fr 1fr;gap:16px;margin-top:8px}
.line{font-size:18px;margin:2px 0;}
.mov-list { /*padding-top: 6px;*/ }
.head{font-size:22px;margin-bottom:4px;font-weight:600}
.divider{background:var(--border);margin:12px 0}
.blue{ --wb-text: var(--blue); color:var(--blue) }
.red{ --wb-text: var(--red); color:var(--red) }
.green{color:var(--green)} .blue-soft{color:var(--blue-soft)}

/* Scheme styling */
.scheme{font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", monospace; text-decoration: underline; font-size: 18px; margin: 4px 0 2px 0; opacity:.95}
.move{font-size:22px}
.header-tools { display:grid; grid-template-columns:1fr auto 1fr; align-items:center; gap:8px; margin-bottom:12px; }
.header-tools .export { padding:3px 7px; justify-self:end; }
@media (max-width:520px){
  .header-tools { grid-template-columns:1fr; justify-items:center}
  .header-tools .export { justify-self:center; margin-top:8px; font-size:small; padding:3px 7px; }
}

.split-wrap{display:flex;gap:10px;align-items:center}

/* Gradient split slider: blue (Lift) → red (HIIT) */
.split-range {
  width: 260px;
  appearance: none;
  height: 10px;
  border-radius: 999px;
  :root { --pct: .5; }
  background: linear-gradient(90deg, var(--blue) 0%, var(--blue) var(--pct, 50%), var(--red) var(--pct, 50%), var(--red) 100%);
  outline: none;
  border: 1px solid var(--border);
  box-shadow: inset 0 1px 2px rgba(0,0,0,.12);
}
.split-range::-webkit-slider-runnable-track {
  height: 10px; border-radius: 999px;
  background: linear-gradient(90deg, var(--blue) 0%, var(--blue) var(--pct, 50%), var(--red) var(--pct, 50%), var(--red) 100%);
}
.split-range::-webkit-slider-thumb {
  appearance: none; width:18px; height:18px; border-radius:50%;
  background:#fff; border:2px solid var(--text); margin-top:-4px; box-shadow:0 1px 3px rgba(0,0,0,.25);
}
/* Firefox */
.split-range::-moz-range-track {
  height:10px; border-radius:999px; border:1px solid var(--border);
  background: linear-gradient(90deg, var(--blue) 0%, var(--blue) var(--pct, 50%), var(--red) var(--pct, 50%), var(--red) 100%);
}
.split-range::-moz-range-thumb {
  width:18px; height:18px; border-radius:50%; background:#fff; border:2px solid var(--text); box-shadow:0 1px 3px rgba(0,0,0,.25);
}

/* Prep sections (Warm-up / Cool-down) side-by-side */
.prepGrid{ display:grid; grid-template-columns:1fr 1fr; gap:12px; margin-bottom:12px; }
@media (max-width:640px){ .prepGrid{ grid-template-columns:1fr; } }
.prepCard{ padding:6px 8px; border:1px dashed var(--border); border-radius:10px; }

.center { text-align: center; }

.quote {
  display:inline-block; font-size:14px; opacity:.9; margin:4px 0 12px; padding:2px 6px; position:relative;
  background-image: linear-gradient(90deg, rgba(255,235,130,.55), rgba(255,235,130,.55));
  background-repeat:no-repeat; background-size:0% 60%; background-position:0 70%;
}
.quote.animate { animation: fade-in-up 0.4s ease-out forwards }
.board-grid.animate, .mini-board .animate, .prepGrid.animate, .marker.line.animate { animation: fade-in-up 0.3s ease-out forwards }
.marker.line.list.animate, .scheme-sub.small.animate { animation: fade-in-up 0.3s ease-out forwards }

@keyframes marker-swipe { from { background-size:0% 60%; } to { background-size:100% 60%; } }
@keyframes fade-in-up {
  0% { transform: translateY(8px); opacity: 0; }
  100% { transform: translateY(0); opacity: 1; }
}
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}
@keyframes quote-glow { 0%{text-shadow:none;} 100%{text-shadow:0 1px 0 rgba(0,0,0,.15), 0 0 12px rgba(255,255,255,.12);} }

/* Shuffle flash animation - green fade out */
@keyframes shuffle-flash {
  0% { opacity: 1; }
  30% { opacity: 0.5; }
  100% { opacity: 0; }
}

/* Slide in from right when new workout appears */
@keyframes slide-in-right {
  0% {
    transform: translateX(150px);
    opacity: 0;
  }
  100% {
    transform: translateX(0);
    opacity: 1;
  }
}

/* Slide in from left when new workout appears */
@keyframes slide-in-left {
  0% {
    transform: translateX(-30px);
    opacity: 0;
  }
  100% {
    transform: translateX(0);
    opacity: 1;
  }
}

/* Fade in for modal backdrop */
@keyframes fadeIn {
  0% {
    opacity: 0;
  }
  100% {
    opacity: 1;
  }
}

/* Slide in from bottom for settings modal */
@keyframes slideInFromBottom {
  0% {
    transform: translateY(20px);
    opacity: 0;
  }
  100% {
    transform: translateY(0);
    opacity: 1;
  }
}

/* Collapsible sections */
/*.section.collapsible { border:1px solid var(--border); border-radius:10px; padding:10px 12px; }*/
/*.section.collapsible + .section.collapsible { margin-top:10px; }*/
.section-head { display:flex; align-items:center; justify-content:space-between; gap:10px; cursor:pointer; user-select:none; overflow:visible; }
.section-title { font-size:14px; font-weight:600; }
.section-actions { display:flex; align-items:center; gap:10px; }
.section-actions label { display:inline-flex; align-items:center; gap:6px; font-size:12px; }
.section-actions .mini { font-size:12px; padding:2px 8px; border-radius:8px; }
.chev { transition: transform .2s ease; font-size:14px; opacity:.8; }
.collapsed .chev { transform: rotate(-90deg); }

.section-body { overflow:hidden; transition:grid-template-rows .25s ease, padding .25s ease; display:grid; grid-template-rows:1fr; }
.collapsed .section-body { grid-template-rows:0fr; padding-top:0 !important; }
.section-body > div { overflow:hidden; }
.section-body.padded { padding-top:10px; }

/* —— Grid of checkboxes (FIXED) —— */
.grid-check{
  display:grid;
  grid-auto-flow: row;                       /* ✅ prevents accidental extra columns */
  gap: 8px 12px;
}
/* Force exactly two columns when you add the `.two` helper */
.grid-check.two{
  grid-template-columns: repeat(2, minmax(0, 1fr));   /* ✅ consistent 2-col layout */
}
/* Collapse to a single column on small screens */
/* Keep two columns even on mobile (down to very small widths) */
@media (max-width: 640px){
  .grid-check.two{
    grid-template-columns: repeat(2, minmax(140px, 1fr));
  }
}

/* Optional: if the screen is extremely narrow, fall back to 1 column */
@media (max-width: 360px){
  .grid-check.two{ grid-template-columns: 1fr; }
}

.btn.sm { padding:6px 10px; font-size:12px; border-radius:10px; }

.hint-btn { all:unset; cursor:pointer; display:inline-flex; align-items:center; justify-content:center; width:14px; height:14px; border-radius:50%; border:1px solid var(--text); font-size:10px; line-height:1; opacity:.85; }
.hint-btn:hover { opacity:1; }
.hint-btn.nudge { transform: translateY(1px); }
.hint-wrap { position:relative; display:inline-flex; align-items:center; }

.section-title-row { display:inline-flex; align-items:center; gap:6px; line-height:1.2; white-space:nowrap; }
.tooltip {
  position:absolute; z-index:20; left:50%; top:calc(100% + 6px); transform:translateX(-50%);
  max-width:min(320px, calc(100vw - 32px)); padding:10px 12px; border:1px solid var(--border); border-radius:10px;
  background:var(--panel); box-shadow:0 6px 24px rgba(0,0,0,.2); font-size:12px; line-height:1.35; word-wrap:break-word;
}
.tooltip:after { content:""; position:absolute; top:-6px; left:50%; transform:translateX(-50%); border-left:6px solid transparent; border-right:6px solid transparent; border-bottom:6px solid var(--panel); }
@media (max-width:520px){
  .tooltip { position:fixed; left:16px; right:16px; bottom:12px; top:auto; transform:none; max-width:none; }
  .tooltip:after { display:none; }
}

.note-italic { font-size:11px; font-style:italic; opacity:.75; }

/* compact form sizing */
.row-compact label { font-size: 12px; }
.input-compact { font-size: 13px; padding: 6px 10px; }
.row-compact .small { font-size: 11px; opacity: .8; }

.dark .board.wod { background: #0b172259; }

.input-xxs { width:5.2ch; padding:4px 8px; font-size:13px; }

/* keep date parts consistent */
.input-compact[type="date"]::-webkit-datetime-edit-text,
.input-compact[type="date"]::-webkit-datetime-edit-month-field,
.input-compact[type="date"]::-webkit-datetime-edit-day-field,
.input-compact[type="date"]::-webkit-datetime-edit-year-field { font-size:13px; }

.board-grid { display:grid; grid-template-columns: repeat(2, minmax(0, 1fr)); gap:16px; align-items:stretch; }

/* ---- Mini whiteboard panel ---- */
.mini-board {
  position:relative; border-radius:12px; border:1px solid var(--border);
  padding:20px; isolation:isolate; margin:0; height:100%;
  display:flex; flex-direction:column;
  --wb-muted: #5f6b7a; --wb-border: #e5e9ef; --wb-panel: #ffffff; --wb-panel-ghost: #f7f8fb;
  background: var(--panel);
}

/* Solid accent borders with subtle gradient backgrounds */
.mini-board.lift-accent {
  border-top: 3px solid var(--blue);
  background: linear-gradient(135deg, rgba(21, 101, 192, 0.06), rgba(21, 101, 192, 0.02));
}

.mini-board.hiit-accent {
  border-top: 3px solid var(--red);
  background: linear-gradient(135deg, rgba(211, 47, 47, 0.06), rgba(211, 47, 47, 0.02));
}

.mini-board.warmup-accent {
  border-top: 3px solid var(--green);
  background: linear-gradient(135deg, rgba(13, 158, 109, 0.06), rgba(13, 158, 109, 0.02));
}

.mini-board.cooldown-accent {
  border-top: 3px solid var(--blue-soft);
  background: linear-gradient(135deg, rgba(91, 163, 245, 0.06), rgba(91, 163, 245, 0.02));
}
.mini-board .note, .mini-board .small, .mini-board .dim { color: var(--wb-muted); }
.mini-board .input, .mini-board select, .mini-board textarea { background:var(--wb-panel); border:1px solid var(--wb-border); }
.mini-board .btn { color: var(--wb-text); border:none; background:var(--wb-panel-ghost); }
.mini-board .btn.ghost { background:transparent; }
.mini-board input[type="date"]::-webkit-calendar-picker-indicator { filter:none; }
@media (max-width: 820px){ .board-grid { grid-template-columns: 1fr; } }

.dark .mini-board {
  background: var(--panel);
}
.dark .mini-board.lift-accent {
  background: linear-gradient(135deg, rgba(21, 101, 192, 0.12), rgba(21, 101, 192, 0.04));
}
.dark .mini-board.hiit-accent {
  background: linear-gradient(135deg, rgba(211, 47, 47, 0.12), rgba(211, 47, 47, 0.04));
}
.dark .mini-board.warmup-accent {
  background: linear-gradient(135deg, rgba(13, 158, 109, 0.12), rgba(13, 158, 109, 0.04));
}
.dark .mini-board.cooldown-accent {
  background: linear-gradient(135deg, rgba(91, 163, 245, 0.12), rgba(91, 163, 245, 0.04));
}

/* header row inside boards */
.board-head { text-align:center; justify-content:space-between; gap:10px; margin-bottom:10px; }

/* Clickable header style */
.board-head[style*="cursor: pointer"] {
  padding: 8px;
  margin: -8px -8px 10px -8px;
  border-radius: 8px;
  transition: background-color 0.2s ease;
}

.board-head[style*="cursor: pointer"]:hover {
  background-color: rgba(0, 0, 0, 0.03);
}

.dark .board-head[style*="cursor: pointer"]:hover {
  background-color: rgba(255, 255, 255, 0.05);
}

.board-head[style*="cursor: pointer"]:active {
  background-color: rgba(0, 0, 0, 0.05);
}

.dark .board-head[style*="cursor: pointer"]:active {
  background-color: rgba(255, 255, 255, 0.08);
}

/* marker-style block title */
.marker-title { font-family: var(--marker-font, "Permanent Marker", "Gloria Hallelujah", cursive); font-size:20px; letter-spacing:.2px; }

/* subtle rule inside boards */
.board-rule { height:1px; background: linear-gradient(to right, transparent, rgba(0,0,0,.08), transparent); margin:10px 0 12px; }

.grid-check.two { display:grid; gap:8px 12px; } /* keep helper visible near related code */

.line.focus { margin-top:1em; }
.scheme-sub.small {
  font-size:13px;
  opacity:.95;
  margin:8px 0 12px 0;
  padding:8px 12px;
  background: rgba(0,0,0,.04);
  border-left: 3px solid rgba(0,0,0,.15);
  border-radius: 4px;
  font-style: italic;
  line-height: 1.5;
}
.dark .scheme-sub.small {
  background: rgba(255,255,255,.06);
  border-left-color: rgba(255,255,255,.2);
}

/* Optional: link style you can apply to "how-to" anchors to remove underline */
a.link-plain { text-decoration: none; border-bottom: 1px dotted currentColor; opacity: .85; }
a.link-plain:hover { opacity: 1; }

/* ---- Segmented buttons (generic) ---- */
.segmented-wrap {
  display: flex;
  flex-direction: column;
  gap: 8px;
}

.segmented-title {
  font-size: 18px;
  margin-bottom: 2px;
}

/* Grid container — pick columns with a modifier class */
.segmented-grid {
  display: grid;
  gap: 8px;
}
.segmented-2 { grid-template-columns: repeat(2, 1fr); }
.segmented-3 { grid-template-columns: repeat(3, 1fr); }
.segmented-4 { grid-template-columns: repeat(4, 1fr); }

/* The buttons */
.segmented-btn {
  font-size: 14px; /* ← default 14px, override per block */
  line-height: 1.2;
  white-space: nowrap;           /* keep labels on one line */
  overflow: hidden;              /* prevent layout shift if too long */
  text-overflow: ellipsis;       /* … when it overflows */
  width: 100%;
  padding: 8px 10px;
  border-radius: 10px;
  border: 1px solid var(--border);
  background: var(--panel-2);
  color: var(--text);
  font-weight: 700;
  cursor: pointer;
  transition: transform .02s ease, box-shadow .15s ease, background .15s ease, border-color .15s ease, color .15s ease;
}
.segmented-btn:hover:not(.is-active) {
  box-shadow: 0 2px 8px rgba(0,0,0,.08);
}

.segmented-btn.is-active {
  border-color: var(--blue);
  color: var(--blue);
  background: rgba(31,111,235,.12);
  box-shadow: inset 0 0 0 2px rgba(31,111,235,.15);
}

/* Optional state helpers */
.segmented-btn:disabled {
  opacity: .6;
  cursor: not-allowed;
}

/* Dark mode tweaks */
.dark .segmented-btn {
  background: var(--panel-2);
  border-color: var(--border);
}
.dark .segmented-btn.is-active {
  background: rgba(31,111,235,.18);
  box-shadow: inset 0 0 0 2px rgba(31,111,235,.25);
}

/* Narrow screens: keep 3 across as requested, just tighten spacing */
@media (max-width: 420px) {
  .segmented-grid.segmented-3 { gap: 6px; }
  .segmented-btn { padding: 7px 8px; font-size: 13px; }
}

/* visually hide but keep accessible + interactive */
.visually-hidden {
  position: absolute !important;
  width: 1px; height: 1px;
  padding: 0; margin: -1px;
  overflow: hidden; clip: rect(0 0 0 0);
  white-space: nowrap; border: 0;
}

/* Auto-fill grid for long chip lists (equipment, focus, etc.) */
.segmented-grid.segmented-auto {
  grid-template-columns: repeat(2, 1fr);
}

/* Small variant for header action */
.segmented-btn.sm {
  padding: 6px 10px;
  font-size: 12px;
}

/* Optional: a touch tighter spacing for dense grids */
.equip-grid { gap: 10px; }

/* ----- Hero / Intro ----- */
.hero {
  border-radius: 22px;
  padding: 20px 18px;
  /*margin-bottom: 16px;*/
  background: radial-gradient(120% 140% at 0% 0%, rgba(31, 111, 235, .12), transparent 60%), radial-gradient(120% 140% at 100% 0%, rgb(225 29 72 / 20%), transparent 60%), var(--panel);
  /*background:*/
  /*        radial-gradient(120% 140% at 0% 0%, rgba(31,111,235,.12), transparent 60%),*/
  /*        radial-gradient(120% 140% at 100% 0%, rgba(225,29,72,.10), transparent 60%),*/
  /*        var(--panel);*/
  border: 1px solid var(--border);
  box-shadow: var(--shadow);
}

.hero-inner { max-width: 980px; margin: 0 auto; text-align: center; }

.hero-title {
  font-size: clamp(24px, 4.5vw, 36px);
  margin: 6px 0 8px;
  letter-spacing: .3px;
}

.hero-sub {
  margin: 0 auto 14px;
  max-width: 760px;
  font-size: 15px;
  color: var(--muted);
  line-height: 1.5;
}

.hero-bullets {
  list-style: none;
  padding: 0;
  margin: 10px auto 16px;
  display: grid;
  gap: 8px 14px;
  grid-template-columns: repeat(auto-fit, minmax(240px, 1fr));
  text-align: left;
}
.hero-bullets li {
  background: var(--panel-2);
  border: 1px dashed var(--border);
  border-radius: 12px;
  padding: 8px 10px;
  font-size: 14px;
}

.hero-cta {
  display: flex;
  gap: 10px;
  justify-content: center;
  flex-wrap: wrap;
  margin: 10px 0 6px;
}

/* CTA buttons (reuses your look) */
.cta-btn {
  padding: 10px 14px;
  border-radius: 12px;
  font-weight: 700;
  border: 1px solid var(--border);
  background: var(--panel-2);
  color: var(--text);
  cursor: pointer;
}
.cta-btn:hover { filter: brightness(1.03); }
.cta-btn.ghost {
  background: transparent;
}

.hero-foot {
  margin-top: 10px;
  opacity: .8;
}

/* ---- Page grid: Hero (left) + Work (right) ---- */
.page-grid {
  display: grid;
  /* Left sizes by content (min 280px, up to ~520px), right fills the rest */
  grid-template-columns: minmax(280px, 520px) minmax(0, 1fr);
  /*grid-template-columns: minmax(280px, fit-content(520px)) minmax(0, 1fr);*/
  gap: 20px;
  align-items: start; /* keep right column top-aligned with hero */
}

/* Right column stacks Controls above Board */
.work-col {
  display: grid;
  grid-template-rows: auto auto; /* controls, then board */
  gap: 16px;
}

/* Make sure the hero doesn’t get cramped on wide screens,
   but never forces the right column too small */
.hero-col {
  width: 100%;
  max-width: 520px; /* mirrors fit-content cap above */
}

/* Responsive: collapse to a single column on smaller screens */
@media (max-width: 1024px) {
  .page-grid {
    grid-template-columns: 1fr;
  }
  .work-col {
    grid-template-rows: auto auto;
  }
}

/* Two-column layout: left = hero + controls, right = board */
.two-col-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;   /* balanced by default */
  gap: 16px;
  align-items: start;
}

/* tighter, intentional stack on the left */
.left-col {
  display: grid;
  grid-template-rows: auto auto;
  gap: 12px;
}

/* keep right column simple */
.right-col {
  display: block;
}

/* On wider screens, give the board more room while keeping a steady left rail */
@media (min-width: 1024px) {
  .two-col-grid {
    grid-template-columns: minmax(340px, 520px) 1fr;
  }
}

/* Mobile: stack everything (hero → controls → board) */
@media (max-width: 720px) {
  .two-col-grid {
    grid-template-columns: 1fr;
  }
}

/* Mobile: stack */
.layout-hero-board {
  display: grid;
  grid-template-columns: 1fr;
  gap: 16px;
  align-items: start;
}

/* Desktop: left 75% (hero+controls), right 25% (workout) */
@media (min-width: 1024px) {
  .layout-hero-board {
    grid-template-columns: 1.5fr 2.3fr; /* 25% / 75% */
  }
}

/* ---- Wizard Mobile Enhancements ---- */
.wizard-container {
  display: flex;
  flex-direction: column;
  flex: 1;
}

.wizard-content {
  flex: 1;
  margin-bottom: 16px;
  touch-action: pan-y; /* Allow vertical scrolling but capture horizontal drags */
}

/* Allow interactive elements to work normally inside draggable content */
.wizard-content button,
.wizard-content input,
.wizard-content select,
.wizard-content textarea,
.wizard-content a {
  cursor: pointer;
  touch-action: auto;
}

.wizard-step {
  animation: wizard-slide-in 0.3s ease-out;
}

.wizard-step-forward {
  animation: wizard-slide-in-forward 0.3s ease-out;
}

.wizard-step-backward {
  animation: wizard-slide-in-backward 0.3s ease-out;
}

@keyframes wizard-slide-in-forward {
  from {
    opacity: 0;
    transform: translateX(20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

@keyframes wizard-slide-in-backward {
  from {
    opacity: 0;
    transform: translateX(-20px);
  }
  to {
    opacity: 1;
    transform: translateX(0);
  }
}

/* Larger tap targets for mobile */
.wizard-btn {
  min-height: 48px;
  font-size: 16px;
  padding: 12px 20px;
  font-weight: 600;
}

/* Sticky header for wizard */
.wizard-header {
  position: sticky;
  top: 0;
  left: 0;
  right: 0;
  background: var(--panel);
  padding: 10px 16px;
  border-bottom: 1px solid var(--border);
  box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
  z-index: 100;
  margin: -16px -16px 8px -16px; /* extend to panel edges and add bottom margin */
  display: flex;
  justify-content: space-between;
  align-items: center;
}

/* Sticky navigation for all screen sizes */
.wizard-nav {
  position: sticky;
  bottom: 0;
  left: 0;
  right: 0;
  background: var(--panel);
  padding: 16px;
  border-top: 1px solid var(--border);
  box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.08);
  z-index: 10;
  margin: 0 -20px -20px -20px; /* extend to edges */
}

@media (max-width: 768px) {
  .wizard-nav {
    margin: 0 -16px -16px -16px; /* extend to panel edges on mobile */
  }

  .wizard-container {
    min-height: 70vh;
  }

  .wizard-btn {
    min-height: 52px;
    font-size: 17px;
  }

  .desktop-only {
    display: none !important;
  }
}

/* Desktop wizard - normal flow */
@media (min-width: 769px) {
  .wizard-nav {
    margin-top: 24px;
  }
}